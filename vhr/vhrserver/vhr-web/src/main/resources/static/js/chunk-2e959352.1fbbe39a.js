(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e959352"],{"09cd":function(e,t,a){},"1fe7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-divider",[a("h2",[e._v("系统详细信息")])]),a("div",{},[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("CPU信息")])]),a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[a("div",[e._v("核心数: "),a("el-tag",[e._v(e._s(e.serverInfo.cpu.cpuNum)+"个")])],1),a("div",[e._v("用户使用率: "),a("el-tag",[e._v(e._s(e.serverInfo.cpu.used+"%"))])],1),a("div",[e._v("系统使用率: "),a("el-tag",[e._v(e._s(e.serverInfo.cpu.sys+"%"))])],1),a("div",[e._v("当前空闲率: "),a("el-tag",[e._v(e._s(e.serverInfo.cpu.free+"%"))])],1)])])],1),a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存信息")])]),a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[a("div",[e._v("总内存: "),a("el-tag",[e._v(e._s(e.serverInfo.mem.total+"G"))])],1),a("div",[e._v("已用内存: "),a("el-tag",[e._v(e._s(e.serverInfo.mem.used+"G"))])],1),a("div",[e._v("剩余内存: "),a("el-tag",[e._v(e._s(e.serverInfo.mem.free+"G"))])],1),a("div",[e._v("使用率: "),a("el-tag",[e._v(e._s(e.serverInfo.mem.usage+"%"))])],1)])])],1),a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("JVM信息")])]),a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[a("div",[e._v("总内存: "),a("el-tag",[e._v(e._s(e.serverInfo.jvm.total+"M"))])],1),a("div",[e._v("已用内存: "),a("el-tag",[e._v(e._s(e.serverInfo.jvm.used+"M"))])],1),a("div",[e._v("剩余内存: "),a("el-tag",[e._v(e._s(e.serverInfo.jvm.free+"M"))])],1),a("div",[e._v("使用率: "),a("el-tag",[e._v(e._s(e.serverInfo.jvm.usage+"%"))])],1)])])],1)],1)],1),a("div",{},[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[a("div",[e._v("服务器名称: "),a("el-tag",[e._v(e._s(e.serverInfo.sys.computerName))])],1),a("div",[e._v("操作系统: "),a("el-tag",[e._v(e._s(e.serverInfo.sys.osName))])],1),a("div",[e._v("服务器IP: "),a("el-tag",[e._v(e._s(e.serverInfo.sys.computerIp))])],1),a("div",[e._v("系统架构: "),a("el-tag",[e._v(e._s(e.serverInfo.sys.osArch))])],1)])])],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Java虚拟机信息")])]),a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[a("div",[e._v("Java名称: "),a("el-tag",[e._v(e._s(e.serverInfo.jvm.name))])],1),a("div",[e._v("Java版本: "),a("el-tag",[e._v(e._s(e.serverInfo.jvm.version))])],1),a("div",[e._v("启动时间: "),a("el-tag",[e._v(e._s(e.serverInfo.jvm.startTime))])],1),a("div",[e._v("运行时长: "),a("el-tag",[e._v(e._s(e.serverInfo.jvm.runTime))])],1),a("div",[e._v("安装路径: "),a("el-tag",[e._v(e._s(e.serverInfo.jvm.home))])],1),a("div",[e._v("项目路径: "),a("el-tag",[e._v(e._s(e.serverInfo.sys.userDir))])],1)])])],1)],1)],1),a("el-divider",{staticStyle:{"margin-top":"20px"}},[a("h3",[e._v("磁盘状态")])]),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sysFiles,border:""}},[a("el-table-column",{attrs:{prop:"dirName",label:"盘符路径",width:"100"}}),a("el-table-column",{attrs:{prop:"sysTypeName",label:"文件系统",width:"180"}}),a("el-table-column",{attrs:{prop:"typeName",width:"180",label:"盘符类型"}}),a("el-table-column",{attrs:{prop:"total",label:"总大小",width:"180"}}),a("el-table-column",{attrs:{prop:"free",label:"可用大小",width:"180"}}),a("el-table-column",{attrs:{prop:"used",label:"已用大小",width:"180"}}),a("el-table-column",{attrs:{prop:"usage",label:"已用百分比",width:"140"}})],1)]],2)},i=[],l={name:"SysCfg",data:function(){return{serverInfo:{},sysFiles:[]}},methods:{getServerInfo:function(){var e=this,t=document.getElementById("serverChart"),a=this.echarts.init(t),n="/employee/server/";this.getRequest(n).then((function(t){t&&(e.option.series[0].data[0].value=t[0].toFixed(2),e.option.series[1].data[0].value=t[1].toFixed(2),e.option.series[2].data[0].value=t[2].toFixed(2),console.log(e.option.series[0].data[0]),console.log(e.option.series[1].data[0]),console.log(e.option.series[2].data[0]),a.setOption(e.option,!0))}))},getAllInfo:function(){var e=this;this.getRequest("/employee/server/getAllInfo/").then((function(t){t&&(e.serverInfo=t,e.sysFiles=t.sysFiles)}))}},mounted:function(){this.getAllInfo()}},s=l,o=(a("83ad"),a("2877")),r=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=r.exports},3919:function(e,t,a){},"418a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-top":"10px",display:"flex","justify-content":"center"}},[a("el-input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{placeholder:"通过用户名搜索用户...","prefix-icon":"el-icon-search"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.doSearch}},[e._v("搜索")])],1),a("div",{staticClass:"hr-container"},e._l(e.hrs,(function(t,n){return a("el-card",{key:n,staticClass:"hr-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.name))]),a("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"#e30007"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.deleteHr(t)}}})],1),a("div",[a("div",{staticClass:"img-container"},[a("img",{staticClass:"userface-img",attrs:{src:t.userface,alt:t.name,title:t.name}})]),a("div",{staticClass:"userinfo-container"},[a("div",[e._v("用户名："+e._s(t.name))]),a("div",[e._v("手机号码："+e._s(t.phone))]),a("div",[e._v("电话号码："+e._s(t.telephone))]),a("div",[e._v("地址："+e._s(t.address))]),a("div",[e._v("用户状态：\n                        "),a("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"禁用"},on:{change:function(a){return e.enabledChange(t)}},model:{value:t.enabled,callback:function(a){e.$set(t,"enabled",a)},expression:"hr.enabled"}})],1),a("div",[e._v("用户角色：\n                        "),e._l(t.roles,(function(t,n){return a("el-tag",{key:n,staticStyle:{"margin-right":"4px"},attrs:{type:"success"}},[e._v(e._s(t.nameZh)+"\n                        ")])})),a("el-popover",{attrs:{placement:"right",title:"角色列表",width:"200",trigger:"click"},on:{show:function(a){return e.showPop(t)},hide:function(a){return e.hidePop(t)}}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectedRoles,callback:function(t){e.selectedRoles=t},expression:"selectedRoles"}},e._l(e.allroles,(function(e,t){return a("el-option",{key:t,attrs:{label:e.nameZh,value:e.id}})})),1),a("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text"},slot:"reference"})],1)],2),a("div",[e._v("备注："+e._s(t.remark))])])])])})),1)])},i=[],l=(a("ac6a"),a("7f7f"),{name:"SysHr",data:function(){return{keywords:"",hrs:[],selectedRoles:[],allroles:[]}},mounted:function(){this.initHrs()},methods:{deleteHr:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/hr/"+e.id).then((function(e){e&&t.initHrs()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},doSearch:function(){this.initHrs()},hidePop:function(e){var t=this,a=[];Object.assign(a,e.roles);var n=!1;if(a.length!=this.selectedRoles.length)n=!0;else{for(var i=0;i<a.length;i++)for(var l=a[i],s=0;s<this.selectedRoles.length;s++){var o=this.selectedRoles[s];if(l.id==o){a.splice(i,1),i--;break}}0!=a.length&&(n=!0)}if(n){var r="/system/hr/role?hrid="+e.id;this.selectedRoles.forEach((function(e){r+="&rids="+e})),this.putRequest(r).then((function(e){e&&t.initHrs()}))}},showPop:function(e){var t=this;this.initAllRoles();var a=e.roles;this.selectedRoles=[],a.forEach((function(e){t.selectedRoles.push(e.id)}))},enabledChange:function(e){var t=this;delete e.roles,this.putRequest("/system/hr/",e).then((function(e){e&&t.initHrs()}))},initAllRoles:function(){var e=this;this.getRequest("/system/hr/roles").then((function(t){t&&(e.allroles=t)}))},initHrs:function(){var e=this;this.getRequest("/system/hr/?keywords="+this.keywords).then((function(t){t&&(e.hrs=t)}))}}}),s=l,o=(a("a73a"),a("2877")),r=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=r.exports},"69f6":function(e,t,a){"use strict";var n=a("ed24"),i=a.n(n);i.a},7531:function(e,t,a){},"83ad":function(e,t,a){"use strict";var n=a("3919"),i=a.n(n);i.a},"83ba8":function(e,t,a){"use strict";var n=a("abd0"),i=a.n(n);i.a},"864e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.oplogs,height:"500"}},[a("el-table-column",{attrs:{fixed:"",prop:"username",label:"操作者",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{effect:"dark"}},[e._v(e._s(t.row.username))])]}}])}),a("el-table-column",{attrs:{fixed:"",prop:"operation",label:"操作内容",width:"150"}}),a("el-table-column",{attrs:{prop:"visitTime",label:"访问时间",width:"150"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP地址",width:"150"}}),a("el-table-column",{attrs:{prop:"executionTime",label:"访问时长",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{effect:"dark",type:"success"}},[e._v(e._s(t.row.executionTime)+"ms")])]}}])}),a("el-table-column",{attrs:{prop:"method",label:"访问方法",width:"450"}}),a("el-table-column",{attrs:{prop:"params",label:"参数",width:"4000"}})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1)},i=[],l={name:"SysLog",data:function(){return{total:0,page:1,size:10,loading:!1,oplogs:[]}},methods:{sizeChange:function(e){this.size=e,this.getAllLogs()},currentChange:function(e){this.page=e,this.getAllLogs()},getAllLogs:function(){var e=this;this.loading=!0;var t="/employee/syslog/?page="+this.page+"&size="+this.size;this.getRequest(t).then((function(t){e.loading=!1,t&&(e.oplogs=t.data,e.total=t.total)}))}},mounted:function(){this.getAllLogs()}},s=l,o=a("2877"),r=Object(o["a"])(s,n,i,!1,null,"cd8b3584",null);t["default"]=r.exports},"8d67":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"部门管理",name:"depmana"}},[a("DepMana")],1),a("el-tab-pane",{attrs:{label:"职位管理",name:"posmana"}},[a("PosMana")],1),a("el-tab-pane",{attrs:{label:"职称管理",name:"joblevelmana"}},[a("JobLevelMana")],1),a("el-tab-pane",{attrs:{label:"权限组",name:"permissmana"}},[a("PermissMana")],1)],1)],1)},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"500px"}},[a("el-input",{attrs:{placeholder:"请输入部门名称进行搜索...","prefix-icon":"el-icon-search"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("el-tree",{ref:"tree",attrs:{data:e.deps,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var n=t.data;return a("span",{staticClass:"custom-tree-node",staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[a("span",[e._v(e._s(n.name))]),a("span",[a("el-button",{staticClass:"depBtn",attrs:{type:"primary",size:"mini"},on:{click:function(){return e.showAddDepView(n)}}},[e._v("\n          添加部门\n        ")]),a("el-button",{staticClass:"depBtn",attrs:{type:"danger",size:"mini"},on:{click:function(){return e.deleteDep(n)}}},[e._v("\n          删除部门\n        ")])],1)])}}])}),a("el-dialog",{attrs:{title:"添加部门",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("table",[a("tr",[a("td",[a("el-tag",[e._v("上级部门")])],1),a("td",[e._v(e._s(e.pname))])]),a("tr",[a("td",[a("el-tag",[e._v("部门名称")])],1),a("td",[a("el-input",{attrs:{placeholder:"请输入部门名称..."},model:{value:e.dep.name,callback:function(t){e.$set(e.dep,"name",t)},expression:"dep.name"}})],1)])])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doAddDep}},[e._v("确 定")])],1)])],1)},s=[],o=(a("7f7f"),{name:"DepMana",data:function(){return{dialogVisible:!1,filterText:"",dep:{name:"",parentId:-1},pname:"",deps:[],defaultProps:{children:"children",label:"name"}}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},mounted:function(){this.initDeps()},methods:{initDep:function(){this.dep={name:"",parentId:-1},this.pname=""},addDep2Deps:function(e,t){for(var a=0;a<e.length;a++){var n=e[a];if(n.id==t.parentId)return n.children=n.children.concat(t),void(n.children.length>0&&(n.parent=!0));this.addDep2Deps(n.children,t)}},doAddDep:function(){var e=this;this.postRequest("/system/basic/department/",this.dep).then((function(t){t&&(e.addDep2Deps(e.deps,t.obj),e.dialogVisible=!1,e.initDep())}))},removeDepFromDeps:function(e,t,a){for(var n=0;n<t.length;n++){var i=t[n];if(i.id==a)return t.splice(n,1),void(0==t.length&&(e.parent=!1));this.removeDepFromDeps(i,i.children,a)}},deleteDep:function(e){var t=this;e.parent?this.$message.error("父部门删除失败"):this.$confirm("此操作将永久删除【"+e.name+"】部门, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/department/"+e.id).then((function(a){a&&t.removeDepFromDeps(null,t.deps,e.id)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},showAddDepView:function(e){this.pname=e.name,this.dep.parentId=e.id,this.dialogVisible=!0},initDeps:function(){var e=this;this.getRequest("/system/basic/department/").then((function(t){t&&(e.deps=t)}))},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)}}}),r=o,c=(a("69f6"),a("2877")),d=Object(c["a"])(r,l,s,!1,null,null,null),u=d.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-input",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"addPosInput",attrs:{size:"small","element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",placeholder:"添加职位...","prefix-icon":"el-icon-plus"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPosition(t)}},model:{value:e.pos.name,callback:function(t){e.$set(e.pos,"name",t)},expression:"pos.name"}}),a("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:e.addPosition}},[e._v("添加")])],1),a("div",{staticClass:"posManaMain"},[a("el-table",{staticStyle:{width:"70%"},attrs:{data:e.positions,border:"",size:"small",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"职位名称",width:"180"}}),a("el-table-column",{attrs:{prop:"createDate",width:"150",label:"创建时间"}}),a("el-table-column",{attrs:{label:"是否启用"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?a("el-tag",{attrs:{size:"small",type:"success"}},[e._v("已启用")]):a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v("未启用")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showEditView(t.$index,t.row)}}},[e._v("编辑\n                      ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n                      ")])]}}])})],1),a("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==e.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除\n          ")])],1),a("el-dialog",{attrs:{title:"修改职位",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("div",[a("el-tag",[e._v("职位名称")]),a("el-input",{staticClass:"updatePosInput",attrs:{size:"small"},model:{value:e.updatePos.name,callback:function(t){e.$set(e.updatePos,"name",t)},expression:"updatePos.name"}})],1),a("div",[a("el-tag",[e._v("是否启用")]),a("el-switch",{attrs:{"active-text":"启用","inactive-text":"禁用"},model:{value:e.updatePos.enabled,callback:function(t){e.$set(e.updatePos,"enabled",t)},expression:"updatePos.enabled"}})],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.doUpdate}},[e._v("确 定")])],1)])],1)},f=[],m=(a("ac6a"),{name:"PosMana",data:function(){return{pos:{name:""},dialogVisible:!1,loading:!1,updatePos:{name:"",enabled:!1},multipleSelection:[],positions:[]}},mounted:function(){this.initPositions()},methods:{deleteMany:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/system/basic/pos/"+t).then((function(t){t&&e.initPositions()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e},addPosition:function(){var e=this;this.pos.name?this.postRequest("/system/basic/pos/",this.pos).then((function(t){t&&(e.initPositions(),e.pos.name="")})):this.$message.error("职位名称不可以为空")},showEditView:function(e,t){Object.assign(this.updatePos,t),this.dialogVisible=!0},doUpdate:function(){var e=this;this.putRequest("/system/basic/pos/",this.updatePos).then((function(t){t&&(e.initPositions(),e.updatePos.name="",e.dialogVisible=!1)}))},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除【"+t.name+"】职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.deleteRequest("/system/basic/pos/"+t.id).then((function(e){e&&a.initPositions()}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},initPositions:function(){var e=this;this.loading=!0,this.getRequest("/system/basic/pos/").then((function(t){e.loading=!1,t&&(e.positions=t)}))}}}),h=m,v=(a("d1a9"),Object(c["a"])(h,p,f,!1,null,null,null)),g=v.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small","prefix-icon":"el-icon-plus",placeholder:"添加职称..."},model:{value:e.jl.name,callback:function(t){e.$set(e.jl,"name",t)},expression:"jl.name"}}),a("el-select",{staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{placeholder:"职称等级",size:"small"},model:{value:e.jl.titleLevel,callback:function(t){e.$set(e.jl,"titleLevel",t)},expression:"jl.titleLevel"}},e._l(e.titleLevels,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small"},on:{click:e.addJobLevel}},[e._v("添加")])],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"80%"},attrs:{data:e.jls,border:"","element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",size:"small"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"职称名称",width:"150"}}),a("el-table-column",{attrs:{prop:"titleLevel",label:"职称级别"}}),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间"}}),a("el-table-column",{attrs:{label:"是否启用"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?a("el-tag",{attrs:{type:"success"}},[e._v("已启用")]):a("el-tag",{attrs:{type:"danger"}},[e._v("未启用")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.showEditView(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.deleteHandler(t.row)}}},[e._v("删除")])]}}])})],1),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"danger",size:"small",disabled:0==e.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除\n          ")])],1),a("el-dialog",{attrs:{title:"修改职称",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("table",[a("tr",[a("td",[a("el-tag",[e._v("职称名")])],1),a("td",[a("el-input",{attrs:{size:"small"},model:{value:e.updateJl.name,callback:function(t){e.$set(e.updateJl,"name",t)},expression:"updateJl.name"}})],1)]),a("tr",[a("td",[a("el-tag",[e._v("职称级别")])],1),a("td",[a("el-select",{staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{placeholder:"职称等级",size:"small"},model:{value:e.updateJl.titleLevel,callback:function(t){e.$set(e.updateJl,"titleLevel",t)},expression:"updateJl.titleLevel"}},e._l(e.titleLevels,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]),a("tr",[a("td",[a("el-tag",[e._v("是否启用")])],1),a("td",[a("el-switch",{attrs:{"active-text":"启用","inactive-text":"禁用"},model:{value:e.updateJl.enabled,callback:function(t){e.$set(e.updateJl,"enabled",t)},expression:"updateJl.enabled"}})],1)])])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.doUpdate}},[e._v("确 定")])],1)])],1)},y=[],_={name:"JobLevelMana",data:function(){return{dialogVisible:!1,loading:!1,multipleSelection:[],updateJl:{name:"",titleLevel:"",enabled:!1},jl:{name:"",titleLevel:""},jls:[],titleLevels:["正高级","副高级","中级","初级","员级"]}},mounted:function(){this.initJls()},methods:{deleteMany:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/system/basic/joblevel/"+t).then((function(t){t&&e.initJls()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},doUpdate:function(){var e=this;this.putRequest("/system/basic/joblevel/",this.updateJl).then((function(t){t&&(e.initJls(),e.dialogVisible=!1)}))},handleSelectionChange:function(e){this.multipleSelection=e},showEditView:function(e){Object.assign(this.updateJl,e),this.dialogVisible=!0},deleteHandler:function(e){var t=this;this.$confirm("此操作将永久【"+e.name+"】职称, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/joblevel/"+e.id).then((function(e){e&&t.initJls()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addJobLevel:function(){var e=this;this.jl.name&&this.jl.titleLevel?this.postRequest("/system/basic/joblevel/",this.jl).then((function(t){t&&e.initJls()})):this.$message.error("添加字段不可以为空!")},initJls:function(){var e=this;this.loading=!0,this.getRequest("/system/basic/joblevel/").then((function(t){e.loading=!1,t&&(e.jls=t,e.jl={name:"",titleLevel:""})}))}}},x=_,k=Object(c["a"])(x,b,y,!1,null,"720745ab",null),w=k.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    奖惩规则\n")])},I=[],z={name:"EcMana"},R=z,$=Object(c["a"])(R,S,I,!1,null,"45fe8b3e",null),j=$.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.globalLoading,expression:"globalLoading"}],attrs:{"element-loading-text":"正在添加...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{staticClass:"permissManaTool"},[a("el-input",{attrs:{size:"small",placeholder:"请输入角色英文名"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}},[a("template",{slot:"prepend"},[e._v("ROLE_")])],2),a("el-input",{attrs:{size:"small",placeholder:"请输入角色中文名"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doAddRole(t)}},model:{value:e.role.nameZh,callback:function(t){e.$set(e.role,"nameZh",t)},expression:"role.nameZh"}}),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.doAddRole}},[e._v("添加角色")])],1),a("div",{staticClass:"permissManaMain"},[a("el-collapse",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",accordion:""},on:{change:e.change},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.roles,(function(t,n){return a("el-collapse-item",{key:n,attrs:{title:t.nameZh,name:t.id}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("可访问的资源")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"#ff0000"},attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(a){return e.deleteRole(t)}}})],1),a("div",[a("el-tree",{key:n,ref:"tree",refInFor:!0,attrs:{"show-checkbox":"","node-key":"id","default-checked-keys":e.selectedMenus,data:e.allmenus,props:e.defaultProps}}),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-button",{on:{click:e.cancelUpdate}},[e._v("取消修改")]),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.doUpdate(t.id,n)}}},[e._v("确认修改")])],1)],1)])],1)})),1)],1)])},D=[],P={name:"PermissMana",data:function(){return{role:{name:"",nameZh:""},allmenus:[],activeName:-1,selectedMenus:[],roles:[],loading:!1,globalLoading:!1,defaultProps:{children:"children",label:"name"}}},mounted:function(){this.initRoles()},methods:{deleteRole:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.nameZh+"】角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/permiss/role/"+e.id).then((function(e){e&&t.initRoles()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},doAddRole:function(){var e=this;this.role.name&&this.role.nameZh?(this.globalLoading=!0,this.postRequest("/system/basic/permiss/role",this.role).then((function(t){e.globalLoading=!1,t&&(e.role.name="",e.role.nameZh="",e.initRoles())}))):this.$message.error("数据不可以为空")},cancelUpdate:function(){this.activeName=-1},doUpdate:function(e,t){var a=this,n=this.$refs.tree[t],i=n.getCheckedKeys(!0),l="/system/basic/permiss/?rid="+e;i.forEach((function(e){l+="&mids="+e})),this.putRequest(l).then((function(e){e&&(a.activeName=-1)}))},change:function(e){e&&(this.initAllMenus(),this.initSelectedMenus(e))},initSelectedMenus:function(e){var t=this;this.getRequest("/system/basic/permiss/mids/"+e).then((function(e){e&&(t.selectedMenus=e)}))},initAllMenus:function(){var e=this;this.getRequest("/system/basic/permiss/menus").then((function(t){t&&(e.allmenus=t)}))},initRoles:function(){var e=this;this.loading=!0,this.getRequest("/system/basic/permiss/").then((function(t){e.loading=!1,t&&(e.roles=t)}))}}},M=P,q=(a("c06a"),Object(c["a"])(M,C,D,!1,null,null,null)),V=q.exports,J={name:"SysBasic",data:function(){return{activeName:"depmana"}},components:{DepMana:u,PosMana:g,JobLevelMana:w,EcMana:j,PermissMana:V}},L=J,T=Object(c["a"])(L,n,i,!1,null,"6c770edb",null);t["default"]=T.exports},"8f67":function(e,t,a){},a73a:function(e,t,a){"use strict";var n=a("09cd"),i=a.n(n);i.a},abd0:function(e,t,a){},c06a:function(e,t,a){"use strict";var n=a("8f67"),i=a.n(n);i.a},d1a9:function(e,t,a){"use strict";var n=a("7531"),i=a.n(n);i.a},d1e3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:e.backUpDataSource}},[e._v("\n                    备份数据库\n                ")])],1)])]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.datas,stripe:"",border:"","element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"filename",fixed:"",align:"left",label:"文件名",width:"290"}}),a("el-table-column",{attrs:{prop:"backupuser",width:"130",align:"left",label:"备份者"}}),a("el-table-column",{attrs:{prop:"backupdate",label:"备份日期",align:"left",width:"130"}}),a("el-table-column",{attrs:{prop:"fileurl",label:"存放路径",align:"left",width:"285"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"left",width:"285"}}),a("el-table-column",{attrs:{fixed:"right",width:"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"success"},on:{click:function(a){return e.doRestore(t.row)}}},[e._v("还原\n                    ")])]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("el-form",{ref:"dataInfoForm",attrs:{model:e.dataInfo,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备份文件名:",prop:"filename"}},[a("el-input",{staticStyle:{width:"270px"},attrs:{size:"mini",placeholder:"请输入备份文件名","prefix-icon":"el-icon-edit"},model:{value:e.dataInfo.filename,callback:function(t){e.$set(e.dataInfo,"filename",t)},expression:"dataInfo.filename"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备份日期:",prop:"backupdate"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini",readonly:"","prefix-icon":"el-icon-edit"},model:{value:e.dataInfo.backupdate,callback:function(t){e.$set(e.dataInfo,"backupdate",t)},expression:"dataInfo.backupdate"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备份者:",prop:"backupuser"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini",readonly:"","prefix-icon":"el-icon-edit"},model:{value:e.dataInfo.backupuser,callback:function(t){e.$set(e.dataInfo,"backupuser",t)},expression:"dataInfo.backupuser"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"保存路径:",prop:"fileurl"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"请输入备份文件保存路径","prefix-icon":"el-icon-edit"},model:{value:e.dataInfo.fileurl,callback:function(t){e.$set(e.dataInfo,"fileurl",t)},expression:"dataInfo.fileurl"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注:",prop:"remark"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{size:"mini",type:"textarea",autosize:"",placeholder:"备注(选填)","prefix-icon":"el-icon-edit"},model:{value:e.dataInfo.remark,callback:function(t){e.$set(e.dataInfo,"remark",t)},expression:"dataInfo.remark"}})],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doBackUpDataSource}},[e._v("确 定")])],1)])],1)},i=[],l=(a("7f7f"),{name:"SysData",data:function(){return{datas:[],loading:!1,total:0,page:1,size:10,title:"",isShow:!1,dialogVisible:!1,dataInfo:{id:null,filename:"",backudate:"",backupuser:"",fileurl:"",remark:""},rules:{filename:[{required:!0,message:"请输入备份文件名",trigger:"blur"}],fileurl:[{required:!0,message:"请输入备份文件保存路径",trigger:"blur"}],remark:[{required:!1,message:"",trigger:"blur"}]}}},mounted:function(){this.initData()},methods:{sizeChange:function(e){this.size=e,this.initPerTrain()},currentChange:function(e){this.page=e,this.initPerTrain()},backUpDataSource:function(){this.emptyDataInfo(),this.title="添加数据库备份",this.dialogVisible=!0;var e=JSON.parse(window.sessionStorage.getItem("user"));this.dataInfo.backupuser=e.name;var t=new Date,a=t.getFullYear(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate();this.dataInfo.backupdate=a+"-"+n+"-"+i},emptyDataInfo:function(){this.dataInfo={filename:"",backupdate:"",backupuser:"",fileurl:"",remark:""}},doBackUpDataSource:function(){var e=this;this.$refs["dataInfoForm"].validate((function(t){t&&(alert(e.dataInfo),alert("55555555555"),e.postRequest("/employee/sysdata/",e.dataInfo).then((function(t){t&&(e.dialogVisible=!1,e.initData())})))}))},initData:function(){var e=this;this.loading=!0;var t="/employee/sysdata/?page="+this.page+"&size="+this.size;this.getRequest(t).then((function(t){e.loading=!1,t&&(e.datas=t.data,e.total=t.total)}))},doRestore:function(e){var t=this;alert(e.fileurl),this.$confirm("此操作将使数据库恢复为【"+e.filename+"】的版本, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a="/employee/sysdata/doRestore/?fileurl="+e.fileurl;t.postRequest(a).then((function(e){}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))}}}),s=l,o=(a("83ba8"),a("2877")),r=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=r.exports},ed24:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2e959352.1fbbe39a.js.map