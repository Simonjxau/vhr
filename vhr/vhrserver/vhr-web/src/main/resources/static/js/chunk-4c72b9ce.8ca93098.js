(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c72b9ce"],{"0aaf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{style:{width:"1000px",height:"300px"},attrs:{id:"depNum"}}),a("div",{style:{width:"1000px",height:"300px",marginTop:"30px"},attrs:{id:"degree"}})])},i=[],l=(a("7f7f"),{name:"StaAll",data:function(){return{depNumOption:{color:["#3398DB"],title:{text:"各部门人数统计柱状图",left:"center"},tooltip:{},legend:{data:["该部门人数"]},xAxis:{data:[],axisLabel:{interval:0,rotate:45,textStyle:{fontSize:12}}},yAxis:{},series:[{name:"人数",type:"bar",barWidth:30,data:[]}]},degreeOption:{color:["#3398DB"],title:{text:"公司各学历人数统计折线图",left:"center"},tooltip:{},legend:{data:["该学历人数"]},xAxis:{data:[],axisLabel:{interval:0,textStyle:{fontSize:12}}},yAxis:{},series:[{name:"人数",type:"line",data:[]}]}}},mounted:function(){var e=this;this.getRequest("/employee/statistics/deps").then((function(t){if(t){var a=[],n=[];for(var i in t)a.push(t[i].name),n.push(t[i].num);e.depNumOption.xAxis.data=a,e.depNumOption.series[0].data=n;var l=document.getElementById("depNum"),r=e.echarts.init(l);r.setOption(e.depNumOption)}else e.$message({type:"error",message:"数据加载失败"})})),this.getRequest("/employee/statistics/degree").then((function(t){if(t){var a=[],n=[];for(var i in t)a.push(t[i].tiptopDegree),n.push(t[i].num);e.degreeOption.xAxis.data=a,e.degreeOption.series[0].data=n;var l=document.getElementById("degree"),r=e.echarts.init(l);r.setOption(e.degreeOption)}else e.$message({type:"error",message:"数据加载失败"})}))},methods:{}}),r=l,s=a("2877"),o=Object(s["a"])(r,n,i,!1,null,"0222a36c",null);t["default"]=o.exports},"0b22":function(e,t,a){var n={"./StaAll.vue":"0aaf","./StaAttend.vue":"ce5d","./StaPlans.vue":"a44a","./StaRecord.vue":"a49a"};function i(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=l,e.exports=i,i.id="0b22"},"2fde":function(e,t,a){"use strict";var n=a("32bb"),i=a.n(n);i.a},"32bb":function(e,t,a){},a44a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-calendar",{attrs:{id:"calendar","first-day-of-week":"7"},scopedSlots:e._u([{key:"dateCell",fn:function(t){t.date;var n=t.data;return[a("p",{attrs:{id:"day"},on:{click:function(t){return e.addPlan(n)}}},[e._v("\n                    "+e._s(n.day.split("-").slice(2).join("-"))),a("br"),a("span",{staticStyle:{color:"#f4f4f4","background-color":"#e30007"}},[e._v(e._s(e.dealMyDate(n.day)))])])]}}])})],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("el-form",{ref:"planForm",attrs:{model:e.plan,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"计划内容:",prop:"plan"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{size:"mini",type:"textarea",autosize:"",placeholder:"请输入计划内容","prefix-icon":"el-icon-edit"},model:{value:e.plan.plan,callback:function(t){e.$set(e.plan,"plan",t)},expression:"plan.plan"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"日期:",prop:"planDate"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini",readonly:"","prefix-icon":"el-icon-edit"},model:{value:e.plan.planDate,callback:function(t){e.$set(e.plan,"planDate",t)},expression:"plan.planDate"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"添加人:",prop:"adduser"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini",readonly:"","prefix-icon":"el-icon-edit"},model:{value:e.plan.adduser,callback:function(t){e.$set(e.plan,"adduser",t)},expression:"plan.adduser"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注:",prop:"remark"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{size:"mini",type:"textarea",autosize:"",placeholder:"备注(选填)","prefix-icon":"el-icon-edit"},model:{value:e.plan.remark,callback:function(t){e.$set(e.plan,"remark",t)},expression:"plan.remark"}})],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doAddPlan}},[e._v("确 定")])],1)])],1)},i=[],l=(a("7f7f"),{name:"StaPlans",data:function(){return{title:"",dialogVisible:!1,value:new Date,date:"",plans:[],userName:"",plan:{planDate:"",plan:"",adduser:"",remark:""},resDate:[],rules:{plan:[{required:!0,message:"请输入计划内容",trigger:"blur"}],remark:[{required:!1,message:"",trigger:"blur"}]}}},mounted:function(){this.getAllPlan()},methods:{emptyPlan:function(){this.plan={planDate:"",plan:"",adduser:"",remark:""}},addPlan:function(e){this.emptyPlan(),this.title="添加计划安排",this.dialogVisible=!0;var t=JSON.parse(window.sessionStorage.getItem("user"));this.plan.adduser=t.name,this.plan.planDate=e.day},doAddPlan:function(){var e=this;this.$refs["planForm"].validate((function(t){t&&e.postRequest("/employee/staplans/",e.plan).then((function(t){t&&(e.dialogVisible=!1,e.getAllPlan())}))}))},dealMyDate:function(e){console.log(e);for(var t=this.resDate.length,a="",n=0;n<t;n++)if(this.resDate[n].planDate==e){a=this.resDate[n].plan;break}return a},getAllPlan:function(){var e=this;this.getRequest("/employee/staplans/").then((function(t){t&&(e.resDate=t.data)}))}}}),r=l,s=(a("fa98"),a("2877")),o=Object(s["a"])(r,n,i,!1,null,"ca2aabaa",null);t["default"]=o.exports},a49a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    人事记录统计\n")])},i=[],l={name:"StaRecord"},r=l,s=a("2877"),o=Object(s["a"])(r,n,i,!1,null,"0f16d65e",null);t["default"]=o.exports},ce5d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.initAttend},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initAttend(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.initAttend}},[e._v("\n                    搜索\n                ")])],1)])]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.attendances,stripe:"",border:"","element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-table-column",{attrs:{prop:"username",align:"left",label:"姓名",width:"200"}}),a("el-table-column",{attrs:{prop:"clickDate",width:"200",align:"left",label:"考勤日期"}}),a("el-table-column",{attrs:{prop:"firstClickTime",align:"left",label:"第一次打卡",width:"180"}}),a("el-table-column",{attrs:{prop:"lastClickTime",width:"180",align:"left",label:"最后一次打卡"}}),a("el-table-column",{attrs:{label:"工作时长",align:"left",width:"185"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{effect:"dark",type:"info"}},[e._v(e._s(t.row.workHours)+"小时")])]}}])}),a("el-table-column",{attrs:{width:"210",align:"left",filters:[{text:"早退",value:0},{text:"正常",value:1},{text:"加班",value:2}],"filter-placement":"bottom-end","filter-method":e.filterTag,label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{effect:"dark",type:e._f("statusFilter")(t.row.status)}},[e._v("\n                            "+e._s(e._f("formatStatus")(t.row.status))+"\n                        ")])]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1)])},i=[],l={name:"StaAttend",data:function(){return{loading:!1,total:0,page:1,keyword:"",size:10,attendances:[]}},methods:{filterTag:function(e,t){return t.status===e},sizeChange:function(e){this.size=e,this.initAttend()},currentChange:function(e){this.page=e,this.initAttend()},initAttend:function(e){var t=this;this.loading=!0;var a="/employee/attendance/?page="+this.page+"&size="+this.size;e&&(a+="&name="+this.keyword),this.getRequest(a).then((function(e){t.loading=!1,e&&(t.attendances=e.data,t.total=e.total)}))}},mounted:function(){this.initAttend()},filters:{statusFilter:function(e){var t={0:"warning",1:"primary",2:"success"};return t[e]},formatStatus:function(e){var t={0:"早退",1:"正常",2:"加班"};return t[e]}}},r=l,s=(a("2fde"),a("2877")),o=Object(s["a"])(r,n,i,!1,null,null,null);t["default"]=o.exports},f063:function(e,t,a){},fa98:function(e,t,a){"use strict";var n=a("f063"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-4c72b9ce.8ca93098.js.map